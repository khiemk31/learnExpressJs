extends ../views/header

block content 
    title User
    .app-container.app-theme-white.body-tabs-shadow.fixed-sidebar.fixed-header
        .app-header.header-shadow
            .app-header__logo
                .logo-src(style="color: #000;width: 100% ; font-size: 25px; margin-bottom:15px;") Model Fashion
                .header__pane.ml-auto
                div
                    button.hamburger.close-sidebar-btn.hamburger--elastic(type='button' data-class='closed-sidebar')
                        span.hamburger-box
                            span.hamburger-inner
            //profile me      
            .dropdown.user-menu(style="margin-left:750px; float: right;")
                button.dropdown-toggle.nav-link(href='#' data-toggle='dropdown')
                    img.user-image(src='assets/img/user/user.png' alt='')
                    span.d-none.d-lg-inline-block UserName
                .dropdown-menu(aria-labelledby='dropdownMenuButton')
                    a.dropdown-item(href='#') Thông tin cá nhân
                    hr
                    a.dropdown-item(href='/login') Đăng xuất

        // body
        .app-main
            // menu left
            .app-sidebar.sidebar-shadow
                .scrollbar-sidebar
                    .app-sidebar__inner
                        ul.vertical-nav-menu
                            li.app-sidebar__heading Menu
                            li
                                a(href='/main') Trang chủ
                            li
                                a(href='/user') Người dùng
                            li
                                a(href='/category') Thể loại
                            li
                                a(href='/product')  Sản phẩm
                            li
                                a(href='/bill')  Quản Lý Đơn Hàng
            // content
            .app-main__outer
                .app-main__inner
                    // code here
                    .pb-20
                        h1.text-blue-400.font-semibold.mb-4(class='text-[25px] leading-[40px]')
                            |Danh Sách Người Dùng
                        form(action="/user/searchUser" , method="POST" ) 
                            .flex.items-center.justify-center.w-full(style="margin: 0px 20px;")
                                .w-full.mx-auto.flex.items-center.rounded-lg.bg-white(x-data="{ search: '' }")
                                    .w-full
                                        input.w-full.rounded-full.px-4.py-1.text-gray-800(type='search' class='focus:outline-none' placeholder='Tìm kiếm người dùng . . .' x-model='search' name="user_name")
                                    div
                                        button.flex.h-12.w-12.items-center.justify-center.rounded-r-lg.bg-blue-500.text-white(type='submit', :class="(search.length > 0) ? 'bg-purple-500' : 'bg-gray-500 cursor-not-allowed'", :disabled='search.length == 0')
                                            svg.h-5.w-5(fill='none' stroke='currentColor' viewbox='0 0 24 24' xmlns='http://www.w3.org/2000/svg')
                                                path(stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z')
                        a.bg-gradient-to-l.from-cyan-500.to-blue-500.text-white.rounded-md.drop-shadow-md.transition-all.duration-700(href="/user/insertUser" style="text-decoration: none;margin-top: 25px;margin-bottom:25px; padding: 10px 10px 10px 10px;") 
                            button(type='submit') Thêm Người Dùng
                        .table.w-full.p-2
                            .dropdown.d-inline-block.mb-1
                                button#dropdownMenuButton.btn.btn-outline-info.dropdown-toggle(type='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' data-display='static') Bộ Lọc 
                                .dropdown-menu(aria-labelledby='dropdownMenuButton')
                                    a.dropdown-item(href='/user') Tất cả người dùng
                                    a.dropdown-item(href='/getAllAdmin') Tất cả admin
                                    a.dropdown-item(href='/getUser') Tất cả khách hàng
                                    a.dropdown-item(href='/getSupperAdmin') SupperAdmin
                                    a.dropdown-item(href='/getUserBlock') User bị Block 
                            table.w-full.border
                                thead
                                    tr.border-b.bg-gray-50
                                        th
                                            .flex.items-center.justify-center STT
                                        th
                                            .flex.items-center.justify-center Họ Và Tên
                                        th
                                            .flex.items-center.justify-center Giới tính
                                        th
                                            .flex.items-center.justify-center Loại tài khoản
                                        th
                                            .flex.items-center.justify-center Trạng thái
                                        th
                                            .flex.items-center.justify-center Lựa chọn
                                tbody
                                    each product,index in listUser  
                                        tr.border-b.bg-gray-100.text-center.text-sm.text-gray-600
                                            td.border-r.p-2= index+1
                                            td.border-r.p-2= product.user_name
                                            if (product.gender===1)
                                                td.border-r.p-2 Nam
                                            else  
                                                td.border-r.p-2 Nữ
                                            td.border-r.p-2= product.role
                                            if (product.active===0)
                                                td.border-r.p-2 active
                                            else  
                                                td.border-r.p-2 block
                                            td.text-right
                                                .dropdown.show.d-inline-block.widget-dropdown
                                                    a#dropdown-recent-order1.dropdown-toggle.icon-burger-mini(href='' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' data-display='static')
                                                    ul.dropdown-menu.dropdown-menu-right(aria-labelledby='dropdown-recent-order1')
                                                        a(href='/user/userDetail/'+product.user_id method="GET")
                                                            li.dropdown-item
                                                                | Xem chi tiết
                                                        if (product.role=="admin" || product.role=="user")
                                                            if (product.active===0)
                                                                a(href='/user/remove/'+product.user_id)
                                                                    li.dropdown-item
                                                                        | Block
                                                            if (product.active===1)
                                                                a(href='/user/active/'+product.user_id )
                                                                    li.dropdown-item
                                                                        | Active
            script(src='http://maps.google.com/maps/api/js?sensor=true')
